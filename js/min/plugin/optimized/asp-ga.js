(function(h){h.fn.extend(window.WPD.ajaxsearchpro.plugin,{gaPageview:function(a){let b=this.gaGetTrackingID();if("undefined"==typeof ASP.analytics||"pageview"!=ASP.analytics.method)return!1;if(""!=ASP.analytics.string){let d="function"==typeof __gaTracker?__gaTracker:"function"==typeof ga?ga:!1,e="function"==typeof gtag?gtag:!1;window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));let f=this.o.homeurl.replace(window.location.origin,
"");!1!==e?!1!==b&&e("config",b,{page_path:f+ASP.analytics.string.replace("{asp_term}",a)}):!1!==d&&(!1!==b&&d("create",b,"auto"),d("send","pageview",{page:f+ASP.analytics.string.replace("{asp_term}",a),title:"Ajax Search"}))}},gaEvent:function(a,b){let d=this.gaGetTrackingID();if("undefined"==typeof ASP.analytics||"event"!=ASP.analytics.method)return!1;let e="function"==typeof gtag?gtag:!1,f="function"==typeof window.__gaTracker?window.__gaTracker:"function"==typeof window.ga?window.ga:!1;if(!1===
e&&!1===f)return!1;if("undefined"!=typeof ASP.analytics.event[a]&&1==ASP.analytics.event[a].active){let m={search_id:this.o.id,search_name:this.o.name,phrase:this.n.text.val(),option_name:"",option_value:"",result_title:"",result_url:"",results_count:""},c={event_category:ASP.analytics.event[a].category,event_label:ASP.analytics.event[a].label,value:ASP.analytics.event[a].value};b=h.fn.extend(m,b);Object.keys(b).forEach(function(g){let k=b[g];k=String(k).replace(/[\s\n\r]+/g," ").trim();Object.keys(c).forEach(function(l){c[l]=
c[l].replace(new RegExp("{"+g+"}","gmi"),k)})});!1===e?!1!==d?d.forEach(function(g){f("create",g,"auto");f("send","event",c.event_category,ASP.analytics.event[a].action,c.event_label,c.value)}):f("send","event",c.event_category,ASP.analytics.event[a].action,c.event_label,c.value):!1!==d?d.forEach(function(g){c.send_to=g;e("event",ASP.analytics.event[a].action,c)}):e("event",ASP.analytics.event[a].action,c)}},gaGetTrackingID:function(){if("undefined"==typeof ASP.analytics)return!1;if("undefined"!=
typeof ASP.analytics.tracking_id&&""!=ASP.analytics.tracking_id)return[ASP.analytics.tracking_id];if(!1===("function"==typeof window.gtag?window.gtag:!1)&&"undefined"!=typeof window.ga&&"undefined"!=typeof window.ga.getAll){let a=[];window.ga.getAll().forEach(function(b){a.push(b.get("trackingId"))});return 0<a.length?a:!1}return!1},stat_addKeyword:function(a,b){h.fn.ajax({url:ASP.ajaxurl,method:"POST",data:{action:"ajaxsearchpro_addkeyword",id:a,keyword:b},success:function(d){}})}})})(WPD.dom);
